"use strict";(self["webpackChunkboop_boo"]=self["webpackChunkboop_boo"]||[]).push([[802],{9802:function(e,r,t){t.r(r),t.d(r,{default:function(){return b}});var l=t(6768),a=t(5130),o=t(4232);const n=e=>((0,l.Qi)("data-v-71c031c3"),e=e(),(0,l.jt)(),e),i={class:"qr-generator"},s=n((()=>(0,l.Lk)("div",{class:"qr-generator__header"},[(0,l.Lk)("h2",{class:"qr-generator__title"},"QR Code Generator"),(0,l.Lk)("p",{class:"qr-generator__subtitle"},"Create QR codes with custom logos")],-1))),d={class:"qr-generator__form"},c={class:"qr-generator__input-group"},h=n((()=>(0,l.Lk)("label",{for:"url-input",class:"qr-generator__label"},"Enter URL:",-1))),u={class:"qr-generator__input-group"},g=n((()=>(0,l.Lk)("label",{for:"logo-input",class:"qr-generator__label"},"Upload Logo/Image (optional):",-1))),_={class:"qr-generator__file-wrapper"},f=["disabled"],p={key:0,class:"qr-generator__error"},w={class:"qr-generator__result"},q=n((()=>(0,l.Lk)("h3",{class:"qr-generator__result-title"},"Your QR Code:",-1))),k={ref:"qrCanvas",class:"qr-generator__canvas",width:"400",height:"400"};function m(e,r,t,n,m,R){return(0,l.uX)(),(0,l.CE)("div",i,[s,(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[h,(0,l.bo)((0,l.Lk)("input",{id:"url-input","onUpdate:modelValue":r[0]||(r[0]=e=>m.url=e),type:"url",class:"qr-generator__input",placeholder:"https://example.com",required:""},null,512),[[a.Jo,m.url]])]),(0,l.Lk)("div",u,[g,(0,l.Lk)("div",_,[(0,l.Lk)("input",{id:"logo-input",ref:"logoInput",type:"file",accept:"image/*",onChange:r[1]||(r[1]=(...e)=>R.handleFileChange&&R.handleFileChange(...e)),class:"qr-generator__file-input"},null,544),(0,l.Lk)("label",{for:"logo-input",class:(0,o.C4)(["qr-generator__file-label",{"qr-generator__file-label--has-file":m.selectedFile}])},(0,o.v_)(m.selectedFile?m.selectedFile.name:"Click to select an image file"),3)])]),(0,l.Lk)("button",{onClick:r[2]||(r[2]=(...e)=>R.generateQR&&R.generateQR(...e)),disabled:!m.url||m.isGenerating,class:(0,o.C4)(["qr-generator__button",{"qr-generator__button--loading":m.isGenerating}])},(0,o.v_)(m.isGenerating?"Generating...":"Generate QR Code"),11,f)]),m.error?((0,l.uX)(),(0,l.CE)("div",p,(0,o.v_)(m.error),1)):(0,l.Q3)("",!0),(0,l.bo)((0,l.Lk)("div",w,[q,(0,l.Lk)("canvas",k,null,512),(0,l.Lk)("button",{onClick:r[3]||(r[3]=(...e)=>R.downloadQR&&R.downloadQR(...e)),class:"qr-generator__download-button"}," Download QR Code ")],512),[[a.aG,m.qrGenerated||m.isGenerating]])])}var R={name:"QRGenerator",data(){return{url:"",selectedFile:null,isGenerating:!1,qrGenerated:!1,error:null}},methods:{handleFileChange(e){const r=e.target.files[0];this.selectedFile=r||null,this.error=null},async generateQR(){if(this.url)try{this.isGenerating=!0,this.error=null,this.qrGenerated||(this.qrGenerated=!0,await this.$nextTick()),await this.generateQRWithLogo(this.url,this.selectedFile),this.$emit("qr-generated",{url:this.url,fileName:this.selectedFile?this.selectedFile.name:null})}catch(e){console.error("Error generating QR code:",e),this.showError("Error generating QR code. Please try again.")}finally{this.isGenerating=!1}else this.showError("Please enter a URL")},async generateQRWithLogo(e,r){return new Promise(((t,l)=>{try{if(window.qrcode)this.drawQRCode(e,r,t,l);else{const a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js",a.onload=()=>this.drawQRCode(e,r,t,l),a.onerror=l,document.head.appendChild(a)}}catch(a){l(a)}}))},drawQRCode(e,r,t,l){const a=this.$refs.qrCanvas;if(!a)return void l(new Error("Canvas not available"));const o=a.getContext("2d");a.width=400,a.height=400;const n=window.qrcode(0,"M");n.addData(e),n.make();const i=n.getModuleCount(),s=a.width/i;o.clearRect(0,0,a.width,a.height),o.fillStyle="#FFFFFF",o.fillRect(0,0,a.width,a.height),o.fillStyle="#000000";for(let c=0;c<i;c++)for(let e=0;e<i;e++)n.isDark(c,e)&&o.fillRect(Math.floor(e*s),Math.floor(c*s),Math.ceil(s),Math.ceil(s));if(!r)return void t();const d=new FileReader;d.onload=e=>{const r=new Image;r.onload=()=>{const e=.2*a.width,l=r.width/r.height;let n,i;l>1?(n=e,i=e/l):(i=e,n=e*l);const s=(a.width-n)/2,d=(a.height-i)/2,c=10;o.fillStyle="white",o.fillRect(s-c,d-c,n+2*c,i+2*c),o.drawImage(r,s,d,n,i),o.strokeStyle="#ddd",o.lineWidth=2,o.strokeRect(s-c,d-c,n+2*c,i+2*c),t()},r.onerror=l,r.src=e.target.result},d.onerror=l,d.readAsDataURL(r)},downloadQR(){const e=this.$refs.qrCanvas,r=document.createElement("a");r.download="qr-code-with-logo.png",r.href=e.toDataURL(),r.click(),this.$emit("qr-downloaded",{url:this.url,fileName:this.selectedFile?this.selectedFile.name:null})},showError(e){this.error=e,setTimeout((()=>{this.error=null}),5e3)},clearForm(){this.url="",this.selectedFile=null,this.qrGenerated=!1,this.error=null,this.$refs.logoInput&&(this.$refs.logoInput.value="")}}},C=t(1241);const v=(0,C.A)(R,[["render",m],["__scopeId","data-v-71c031c3"]]);var b=v}}]);
//# sourceMappingURL=802.b7ea1036.js.map