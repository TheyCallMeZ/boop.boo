"use strict";(self["webpackChunkboop_boo"]=self["webpackChunkboop_boo"]||[]).push([[426],{426:function(e,t,r){r.r(t),r.d(t,{default:function(){return M}});var n=r(6768),o=r(5130),a=r(4232);const i=e=>((0,n.Qi)("data-v-6d09001c"),e=e(),(0,n.jt)(),e),l={class:"qr-generator"},s=i((()=>(0,n.Lk)("div",{class:"qr-generator__header"},[(0,n.Lk)("h2",{class:"qr-generator__title"},"QR Code Generator"),(0,n.Lk)("p",{class:"qr-generator__subtitle"},"Create QR codes with custom logos")],-1))),u={class:"qr-generator__form"},c={class:"qr-generator__input-group"},d=i((()=>(0,n.Lk)("label",{for:"url-input",class:"qr-generator__label"},"Enter URL:",-1))),h={class:"qr-generator__input-group"},g=i((()=>(0,n.Lk)("label",{for:"logo-input",class:"qr-generator__label"},"Upload Logo/Image (optional):",-1))),f={class:"qr-generator__file-wrapper"},p={class:"qr-generator__input-group"},v=i((()=>(0,n.Lk)("label",{for:"format-input",class:"qr-generator__label"},"Output format:",-1))),w=i((()=>(0,n.Lk)("option",{value:"PNG"},"PNG",-1))),m=i((()=>(0,n.Lk)("option",{value:"SVG"},"SVG",-1))),b=[w,m],k=["disabled"],_={key:0,class:"qr-generator__error"},L={class:"qr-generator__result"},q=i((()=>(0,n.Lk)("h3",{class:"qr-generator__result-title"},"Your QR Code:",-1))),R={ref:"qrCanvas",class:"qr-generator__canvas",width:"400",height:"400"},C=i((()=>(0,n.Lk)("br",null,null,-1))),S=["innerHTML"];function G(e,t,r,i,w,m){return(0,n.uX)(),(0,n.CE)("div",l,[s,(0,n.Lk)("div",u,[(0,n.Lk)("div",c,[d,(0,n.bo)((0,n.Lk)("input",{id:"url-input","onUpdate:modelValue":t[0]||(t[0]=e=>w.url=e),type:"url",class:"qr-generator__input",placeholder:"https://example.com",required:""},null,512),[[o.Jo,w.url]])]),(0,n.Lk)("div",h,[g,(0,n.Lk)("div",f,[(0,n.Lk)("input",{id:"logo-input",ref:"logoInput",type:"file",accept:"image/*",onChange:t[1]||(t[1]=(...e)=>m.handleFileChange&&m.handleFileChange(...e)),class:"qr-generator__file-input"},null,544),(0,n.Lk)("label",{for:"logo-input",class:(0,a.C4)(["qr-generator__file-label",{"qr-generator__file-label--has-file":w.selectedFile}])},(0,a.v_)(w.selectedFile?w.selectedFile.name:"Click to select an image file"),3)])]),(0,n.Lk)("div",p,[v,(0,n.bo)((0,n.Lk)("select",{id:"format-input","onUpdate:modelValue":t[2]||(t[2]=e=>w.outputFormat=e),class:"qr-generator__input"},b,512),[[o.u1,w.outputFormat]])]),(0,n.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>m.generateQR&&m.generateQR(...e)),disabled:!w.url||w.isGenerating,class:(0,a.C4)(["qr-generator__button",{"qr-generator__button--loading":w.isGenerating}])},(0,a.v_)(w.isGenerating?"Generating...":"Generate QR Code"),11,k)]),w.error?((0,n.uX)(),(0,n.CE)("div",_,(0,a.v_)(w.error),1)):(0,n.Q3)("",!0),(0,n.bo)((0,n.Lk)("div",L,[q,(0,n.bo)((0,n.Lk)("canvas",R,null,512),[[o.aG,"PNG"===w.outputFormat]]),C,(0,n.bo)((0,n.Lk)("div",null,[(0,n.Lk)("div",{class:"qr-generator__canvas",innerHTML:w.svgMarkup,"aria-label":"QR Code SVG"},null,8,S)],512),[[o.aG,"SVG"===w.outputFormat]]),(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>m.downloadQR&&m.downloadQR(...e)),class:"qr-generator__download-button"}," Download QR Code ")],512),[[o.aG,w.qrGenerated||w.isGenerating]])])}r(4603),r(7566),r(8721);var y={name:"QRGenerator",data(){return{url:"",selectedFile:null,isGenerating:!1,qrGenerated:!1,error:null,outputFormat:"PNG",svgMarkup:""}},methods:{handleFileChange(e){const t=e.target.files[0];this.selectedFile=t||null,this.error=null},async generateQR(){if(this.url)try{this.isGenerating=!0,this.error=null,this.qrGenerated||(this.qrGenerated=!0,await this.$nextTick()),await this.generateQRWithLogo(this.url,this.selectedFile),this.$emit("qr-generated",{url:this.url,fileName:this.selectedFile?this.selectedFile.name:null})}catch(e){console.error("Error generating QR code:",e),this.showError("Error generating QR code. Please try again.")}finally{this.isGenerating=!1}else this.showError("Please enter a URL")},async generateQRWithLogo(e,t){return new Promise(((r,n)=>{try{if(window.qrcode)"SVG"===this.outputFormat?this.drawQRCodeSVG(e,t,r,n):this.drawQRCodePNG(e,t,r,n);else{const o=document.createElement("script");o.src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js",o.onload=()=>{"SVG"===this.outputFormat?this.drawQRCodeSVG(e,t,r,n):this.drawQRCodePNG(e,t,r,n)},o.onerror=n,document.head.appendChild(o)}}catch(o){n(o)}}))},drawQRCodePNG(e,t,r,n){const o=this.$refs.qrCanvas;if(!o)return void n(new Error("Canvas not available"));const a=o.getContext("2d");o.width=400,o.height=400;const i=window.qrcode(0,"M");i.addData(e),i.make();const l=i.getModuleCount(),s=o.width/l;a.clearRect(0,0,o.width,o.height),a.fillStyle="#000000";for(let c=0;c<l;c++)for(let e=0;e<l;e++)i.isDark(c,e)&&a.fillRect(Math.floor(e*s),Math.floor(c*s),Math.ceil(s),Math.ceil(s));if(!t)return this.svgMarkup="",void r();const u=new FileReader;u.onload=e=>{const t=new Image;t.onload=()=>{const e=.2*o.width,n=t.width/t.height;let i,l;n>1?(i=e,l=e/n):(l=e,i=e*n);const s=(o.width-i)/2,u=(o.height-l)/2;a.drawImage(t,s,u,i,l),this.svgMarkup="",r()},t.onerror=n,t.src=e.target.result},u.onerror=n,u.readAsDataURL(t)},drawQRCodeSVG(e,t,r,n){try{const o=window.qrcode(0,"M");o.addData(e),o.make();const a=o.getModuleCount(),i=400,l=Math.max(1,Math.floor(i/a)),s=0,u=a*l+2*s*l,c=o.createSvgTag({cellSize:l,margin:s}),d=new DOMParser,h=d.parseFromString(c,"image/svg+xml"),g=h.documentElement;g.setAttribute("width",String(u)),g.setAttribute("height",String(u)),g.setAttribute("viewBox",`0 0 ${u} ${u}`),g.setAttribute("class","qr-generator__canvas"),g.setAttribute("shape-rendering","crispEdges"),g.setAttribute("style","background: none;");const f=Array.from(g.querySelectorAll("rect"));f.forEach((e=>{const t=(e.getAttribute("fill")||"").toLowerCase();("#fff"===t||"#ffffff"===t||"white"===t||t.includes("rgb(255"))&&e.parentNode&&e.parentNode.removeChild(e)}));const p=e=>{if(e){const t=.2*u,n=new Image;n.onload=()=>{const o=n.width/n.height;let a,i;o>1?(a=t,i=t/o):(i=t,a=t*o);const l=(u-a)/2,s=(u-i)/2,c=h.createElementNS("http://www.w3.org/2000/svg","image");c.setAttribute("x",String(l)),c.setAttribute("y",String(s)),c.setAttribute("width",String(a)),c.setAttribute("height",String(i)),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),c.setAttributeNS("http://www.w3.org/1999/xlink","href",e),g.appendChild(c);const d=new XMLSerializer;this.svgMarkup=d.serializeToString(g),r()},n.onerror=()=>{const e=new XMLSerializer;this.svgMarkup=e.serializeToString(g),r()},n.src=e}else{const e=new XMLSerializer;this.svgMarkup=e.serializeToString(g),r()}};if(!t)return void p(null);const v=new FileReader;v.onload=e=>p(e.target.result),v.onerror=n,v.readAsDataURL(t)}catch(o){n(o)}},downloadQR(){if("SVG"===this.outputFormat){if(!this.svgMarkup)return void this.showError("Please generate the QR code first.");const e=new Blob([this.svgMarkup],{type:"image/svg+xml;charset=utf-8"}),t=document.createElement("a");t.download="qr-code-with-logo.svg",t.href=URL.createObjectURL(e),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(t.href)}else{const e=this.$refs.qrCanvas;if(!e)return void this.showError("Please generate the QR code first.");const t=document.createElement("a");t.download="qr-code-with-logo.png",t.href=e.toDataURL("image/png"),t.click()}this.$emit("qr-downloaded",{url:this.url,fileName:this.selectedFile?this.selectedFile.name:null})},showError(e){this.error=e,setTimeout((()=>{this.error=null}),5e3)},clearForm(){this.url="",this.selectedFile=null,this.qrGenerated=!1,this.error=null,this.svgMarkup="",this.$refs.logoInput&&(this.$refs.logoInput.value="")}}},Q=r(1241);const F=(0,Q.A)(y,[["render",G],["__scopeId","data-v-6d09001c"]]);var M=F},6955:function(e,t,r){var n=r(2140),o=r(4901),a=r(4576),i=r(8227),l=i("toStringTag"),s=Object,u="Arguments"===a(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(r){}};e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=c(t=s(e),l))?r:u?a(t):"Object"===(n=a(t))&&o(t.callee)?"Arguments":n}},2106:function(e,t,r){var n=r(283),o=r(4913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},2140:function(e,t,r){var n=r(8227),o=n("toStringTag"),a={};a[o]="z",e.exports="[object z]"===String(a)},655:function(e,t,r){var n=r(6955),o=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},2812:function(e){var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},4603:function(e,t,r){var n=r(6840),o=r(9504),a=r(655),i=r(2812),l=URLSearchParams,s=l.prototype,u=o(s.append),c=o(s["delete"]),d=o(s.forEach),h=o([].push),g=new l("a=1&a=2&b=3");g["delete"]("a",1),g["delete"]("b",void 0),g+""!=="a=2"&&n(s,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return c(this,e);var n=[];d(this,(function(e,t){h(n,{key:t,value:e})})),i(t,1);var o,l=a(e),s=a(r),g=0,f=0,p=!1,v=n.length;while(g<v)o=n[g++],p||o.key===l?(p=!0,c(this,o.key)):f++;while(f<v)o=n[f++],o.key===l&&o.value===s||u(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,r){var n=r(6840),o=r(9504),a=r(655),i=r(2812),l=URLSearchParams,s=l.prototype,u=o(s.getAll),c=o(s.has),d=new l("a=1");!d.has("a",2)&&d.has("a",void 0)||n(s,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return c(this,e);var n=u(this,e);i(t,1);var o=a(r),l=0;while(l<n.length)if(n[l++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,r){var n=r(3724),o=r(9504),a=r(2106),i=URLSearchParams.prototype,l=o(i.forEach);n&&!("size"in i)&&a(i,"size",{get:function(){var e=0;return l(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=426.38afd0bf.js.map